**Примечание**

**Библиотека работает в асинхронном режиме, поэтому для работы нужно создать асинхронный запрос.**

```py
async def main(): 
"тело функции" 

asyncio.run(main())
```

# Экспорт в DataFrame
## Экспорт в DataFrame из модели.

Строка кода для экспорта в DataFrame:

```py
mk_oil = await model_oil.get_multicube_by_name(name="M01.04 Материальный баланс")
df = awat mk_oil.export_df()
print(df.head())
mk_oil_view = await mk_oil.get_view_by_name('v.вход-выход')
df_view = await mk_oil_view.export_df()
print(df_view.head())
```

Где:

* mk - имя объекта, на который ссылается пользователь.
* model - модель, с которой взаимодействует разработчик.

## Шаги экспорта:

1. Вставьте код для экспорта.
2. Укажите имя мультикуба.
3. Укажите имя экспортируемой veiw.
4. Сохраните написанную функцию, для этого используйте кнопку "Save file", находящейся в правом верхнем  углу.
5. Запустите с параметрами.

# Экспорт в DataFrame после фильтрации
## Экспорт в DataFrame после фильтрации из модели.

Строка кода для экспорта после фильтрации:

```py
mk1, mk2 = await asyncio.gather(
model_oil.get_multicube_by_name("M01.09 Материальный баланс (месяцы)"),
work_model.get_multicube_by_name("Тест экспорт фильтр формула"),
)
bool_cube_id = 129000000008
dimension_id = 101000000005
formula = (
"('Тест экспорт фильтр формула'.'Строка TXT' = 5 OR 'Тест экспорт фильтр формула'.'Строка TXT' = 8) "
"AND 'Тест экспорт фильтр формула'.'Булеан' = TRUE"
)
dimension_id_by_formula = 13000000003
task1 = asyncio.create_task(
mk1.export_df(filter_boolean_cube=[bool_cube_id, dimension_id])
)
task2 = asyncio.create_task(
mk2.export_df(filter_formula=[formula, dimension_id_by_formula])
)
for df in await asyncio.gather(task1, task2):
assert isinstance(df, pd.DataFrame)
print(df.head())
```

Где:

* mk1, mk2 - имя объекта, на который ссылается пользователь.
* model - модель, с которой взаимодействует разработчик. 
* bool_cube_id = 129000000008 - ID булева куба.
* dimension_id = 101000000005 - ID измерения.

## Шаги экспорта:

1. Вставьте код для экспорта.
2. Укажите имя мультикуба.
3. Укажите ID булева куба.
4. Укажите ID измерения.
5. Сохраните написанную функцию, для этого используйте кнопку "Save file", находящейся в правом верхнем  углу.
6. Запустите с параметрами.

# Экспорт мультикуба и его view в ОМ форматах с фильтром по булеву кубу
## Экспорт мультикуба и его view в ОМ форматах с фильтром.

Строка кода для экспорта с фильтром по булеву кубу:

```py
 boolean_cube_filter_long_id = 248000000252
 mc_fb1 = await model_oil.get_multicube_by_name("M06.08 Ограничение смешение")
 mc_fb2 = await model_oil.get_multicube_by_name("M06.01 Материальный баланс tech (без АВТ)")
 view_mc_fb2 = await mc_fb2.get_view_by_name("v.вход-выход")
 await view_mc_fb2.export_om_file(
 path=files_dir, boolean_cube_filter_long_id=129000000007
 )
```
Где:

* mc - имя объекта, на который ссылается пользователь.
* model - модель, с которой взаимодействует разработчик.
* boolean_cube_filter_long_id = 248000000252 - ID булева куба.

## Шаги экспорта в ОМ форматах:
1. Вставьте код для экспорта с фильтром по булеву кубу.
2. Укажите имя мультикуба.
3. Укажите имя экспортируемой veiw.
4. Укажите ID булева куба.
5. Сохраните написанную функцию, для этого используйте кнопку "Save file", находящейся в правом верхнем  углу.
6. Запустите с параметрами.

Также в данной версии у разработчика есть возможность запустить несколько экспортов в асинхронном режиме.

Строка кода для запуска нескольких экспортов:

```py
task1 = view_mc_fb2.export_om_file(
path=files_dir, boolean_cube_filter_long_id=129000000007
)
task2 = mc_fb1.export_om_file(
path=files_dir, boolean_cube_filter_long_id=boolean_cube_filter_long_id
)
await asyncio.gather(task1, task2)
```
Где:

* mc - имя объекта, на который ссылается пользователь.
* boolean_cube_filter_long_id=129000000007 - ID булева куба.

## Шаги нескольких экспортов в асинхронном режиме:

1. Вставьте код для экспорта с фильтром по булеву кубу.
2. Укажите ID булева куба.
3. Сохраните написанную функцию, для этого используйте кнопку "Save file", находящейся в правом верхнем  углу.
4. Запустите с параметрами.

# Экспорт мультикуба и его view в ОМ форматах с фильтром по формуле в строках
## Экспорт мультикуба и его view в ОМ форматах с фильтром.

Строка кода для экспорта с фильтром по формуле в строках:

```py
mc_ff = await work_model.get_multicube_by_name("Тест экспорт фильтр формула")
formula1 = "'Тест экспорт фильтр формула'.'Строка TXT' = 5 AND 'Тест экспорт фильтр формула'.'Булеан' = TRUE"
view_mc_ff = await mc_ff.get_view_by_name("вью1")
formula2 = (
"('Тест экспорт фильтр формула'.'Строка CSV' = 3 OR 'Тест экспорт фильтр формула'.'Строка CSV' = 6) "
"AND 'Тест экспорт фильтр формула'.'Булеан' = FALSE"
)
task1 = mc_ff.export_om_file(path=files_dir, filter_formula=formula1, format=DownloadFormatOM.OM_TXT)
task2 = view_mc_ff.export_om_file(path=files_dir, filter_formula=formula2)
await asyncio.gather(task1, task2)
```
Где:

* mc - имя объекта, на который ссылается пользователь.
* model - модель, с которой взаимодействует разработчик.

# Шаги экспорта в ОМ форматах с фильтром по формуле:

1. Вставьте код для экспорта с фильтром по формуле.
2. Укажите имя мультикуба.
3. Сохраните написанную функцию, для этого используйте кнопку "Save file", находящейся в правом верхнем  углу.
4. Запустите с параметрами.

# Экспорт мультикуба и его view с фильтром по булеву кубу
## Экспорт мультикуба и его view в обычных форматах с фильтром.

Строка кода для экспорта с фильтром по булеву кубу:

```py
filter_boolean_cube = [220000000069, 13000000003]
mc = await work_model.get_multicube_by_name("Тест импорт")
view_mc = await mc.get_view_by_name("Тест импорт view")
task1 = mc.export_file(
path=files_dir, filter_boolean_cube=filter_boolean_cube
)
task2 = view_mc.export_file(
path=files_dir, filter_boolean_cube=filter_boolean_cube
)
await asyncio.gather(task1, task2)
```
Где:

* mc - имя объекта, на который ссылается пользователь.
* model - модель, с которой взаимодействует разработчик.

# Шаги экспорта в обычных форматах:

1. Вставьте код для экспорта с фильтром по булеву кубу.
2. Укажите имя мультикуба.
3. Укажите имя экспортируемой veiw.
4. Сохраните написанную функцию, для этого используйте кнопку "Save file", находящейся в правом верхнем  углу.
5. Запустите с параметрами.

# Экспорт мультикуба и его view с фильтром по формуле в строках
## Экспорт мультикуба и его view в обычных форматах с фильтром.

Строка кода для экспорта с фильтром по формуле в строках:

```py
mc = await work_model.get_multicube_by_name("Тест экспорт фильтр формула")
formula1 = "'Тест экспорт фильтр формула'.'Строка TXT' = 5 AND 'Тест экспорт фильтр формула'.'Булеан' = TRUE"
view_mc = await mc.get_view_by_name("вью1")
formula2 = (
"('Тест экспорт фильтр формула'.'Строка CSV' = 3 OR 'Тест экспорт фильтр формула'.'Строка CSV' = 6) "
"AND 'Тест экспорт фильтр формула'.'Булеан' = FALSE"
)
task1 = mc.export_file(
path=files_dir,
filter_formula=[formula1, 13000000003],
format=DownloadFormat.TXT,
)
task2 = view_mc.export_file(
path=files_dir,
filter_formula=[formula2, 13000000003],
format=DownloadFormat.CSV,
)

await asyncio.gather(task1, task2)
```
Где:

* mc - имя объекта, на который ссылается пользователь.
* model - модель, с которой взаимодействует разработчик.

# Шаги экспорта в обычных форматах с фильтром по формуле:
1. Вставьте код для экспорта с фильтратом по формуле в строках.
2. Укажите имя мультикуба.
3. Сохраните написанную функцию, для этого используйте кнопку "Save file", находящейся в правом верхнем  углу.
4. Запустите с параметрами.
